{"ast":null,"code":"import _createForOfIteratorHelper from \"D:/EcoPaw/carbonfootprint/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _regeneratorRuntime from \"D:/EcoPaw/carbonfootprint/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/EcoPaw/carbonfootprint/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.timers.js\";\nimport axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      activeCategory: '',\n      emissionFactors: {},\n      unitMap: {},\n      selectedItems: [],\n      totalEmission: 0,\n      treesToPlant: 0,\n      categoryOrder: ['衣', '食', '住', '行', '用'],\n      // 定义类别排序\n      selectedCategory: '',\n      selectedSource: '',\n      selectedSourceType: '',\n      electricityConsumption: '',\n      transportationDistance: '',\n      transportationType: '',\n      foodWeight: '',\n      foodType: '',\n      waterConsumption: '',\n      wasteWeight: '',\n      wasteType: '',\n      calculatedEmission: 0,\n      showResults: false,\n      showMessage: false,\n      messageType: '',\n      messageContent: ''\n    };\n  },\n  created: function created() {\n    var _this = this;\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var token, response;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            token = localStorage.getItem('token');\n            if (token) {\n              _context.next = 5;\n              break;\n            }\n            _this.$router.push('/');\n            return _context.abrupt(\"return\");\n          case 5:\n            _context.next = 7;\n            return axios.get('http://localhost:5000/api/carbon/factors', {\n              headers: {\n                Authorization: \"Bearer \".concat(token)\n              }\n            });\n          case 7:\n            response = _context.sent;\n            _this.emissionFactors = response.data.factors;\n            _this.unitMap = response.data.units;\n\n            // 设置默认选中第一个分类\n            if (Object.keys(_this.emissionFactors).length > 0) {\n              _this.activeCategory = _this.sortedCategories[0];\n            }\n            _context.next = 16;\n            break;\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](0);\n            console.error('Error:', _context.t0);\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 13]]);\n    }))();\n  },\n  computed: {\n    // 按照衣食住行用的顺序排序分类\n    sortedCategories: function sortedCategories() {\n      var _this2 = this;\n      var categories = Object.keys(this.emissionFactors);\n      return categories.sort(function (a, b) {\n        var indexA = _this2.categoryOrder.indexOf(a);\n        var indexB = _this2.categoryOrder.indexOf(b);\n        return indexA - indexB;\n      });\n    },\n    filteredEmissions: function filteredEmissions() {\n      return this.emissionFactors[this.activeCategory] || {};\n    },\n    // 将选中的项目按类别分组\n    groupedSelectedItems: function groupedSelectedItems() {\n      var _this3 = this;\n      var grouped = {};\n\n      // 首先确保按照衣食住行用的顺序创建空数组\n      this.categoryOrder.forEach(function (category) {\n        if (_this3.selectedItems.some(function (item) {\n          return item.category === category;\n        })) {\n          grouped[category] = [];\n        }\n      });\n\n      // 然后填充数据，保持选择顺序\n      this.selectedItems.forEach(function (item) {\n        if (!grouped[item.category]) {\n          grouped[item.category] = [];\n        }\n        grouped[item.category].push(item);\n      });\n      return grouped;\n    },\n    categories: function categories() {\n      return Object.keys(this.emissionFactors);\n    },\n    filteredSources: function filteredSources() {\n      return Object.keys(this.emissionFactors[this.selectedCategory] || {});\n    },\n    isCalculationReady: function isCalculationReady() {\n      return this.selectedSource && this.selectedSourceType && this.selectedSourceType !== 'waste';\n    }\n  },\n  methods: {\n    setActiveCategory: function setActiveCategory(category) {\n      this.activeCategory = category;\n    },\n    isSelected: function isSelected(category, subCategory) {\n      return this.selectedItems.some(function (item) {\n        return item.category === category && item.subCategory === subCategory;\n      });\n    },\n    selectSubcategory: function selectSubcategory(category, subCategory) {\n      // 检查是否已经选择了该子类别\n      if (this.isSelected(category, subCategory)) {\n        return;\n      }\n\n      // 添加到选择列表\n      this.selectedItems.push({\n        category: category,\n        subCategory: subCategory,\n        value: 1,\n        factor: this.emissionFactors[category][subCategory]\n      });\n      this.calculateTotal();\n    },\n    removeItem: function removeItem(item) {\n      var index = this.selectedItems.findIndex(function (i) {\n        return i.category === item.category && i.subCategory === item.subCategory;\n      });\n      if (index !== -1) {\n        this.selectedItems.splice(index, 1);\n        this.calculateTotal();\n      }\n    },\n    clearAllItems: function clearAllItems() {\n      // 添加确认动画\n      var panel = document.querySelector('.calculation-panel');\n      if (panel) {\n        panel.classList.add('shake-effect');\n        setTimeout(function () {\n          panel.classList.remove('shake-effect');\n        }, 500);\n      }\n      this.selectedItems = [];\n      this.calculateTotal();\n    },\n    getUnit: function getUnit(subCategory) {\n      return this.unitMap[subCategory] || '单位';\n    },\n    getEmissionValue: function getEmissionValue(item) {\n      var value = (item.factor * item.value).toFixed(1);\n      return value;\n    },\n    calculateTotal: function calculateTotal() {\n      var total = 0;\n      var _iterator = _createForOfIteratorHelper(this.selectedItems),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          total += item.factor * item.value;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      this.totalEmission = total.toFixed(1);\n      this.treesToPlant = (total / 28.8 * 0.3).toFixed(1);\n    },\n    getCategoryIcon: function getCategoryIcon(category, subCategory) {\n      var mainIconMap = {\n        '衣': 'fas fa-tshirt',\n        '食': 'fas fa-utensils',\n        '住': 'fas fa-home',\n        '行': 'fas fa-car',\n        '用': 'fas fa-shopping-basket'\n      };\n      if (!subCategory) {\n        return mainIconMap[category] || 'fas fa-leaf';\n      }\n      var iconMap = {\n        '衣': {\n          '涤纶织物': 'fas fa-tshirt',\n          '纯棉T恤': 'fas fa-tshirt',\n          '洗衣液': 'fas fa-soap'\n        },\n        '食': {\n          '白酒': 'fas fa-wine-bottle',\n          '啤酒': 'fas fa-beer',\n          '吸烟': 'fas fa-smoking',\n          '羊肉': 'fas fa-drumstick-bite',\n          '牛肉': 'fas fa-hamburger',\n          '猪肉': 'fas fa-bacon',\n          '炸鸡': 'fas fa-drumstick-bite',\n          '鸡蛋': 'fas fa-egg',\n          '土豆': 'fas fa-seedling',\n          '米饭': 'fas fa-seedling',\n          '花生': 'fas fa-seedling',\n          '酸奶': 'fas fa-wine-glass'\n        },\n        '住': {\n          '水': 'fas fa-water',\n          '电': 'fas fa-bolt',\n          '天然气': 'fas fa-fire'\n        },\n        '行': {\n          '轮船': 'fas fa-ship',\n          '公交车': 'fas fa-bus',\n          '私家电车': 'fas fa-car',\n          '私家油车': 'fas fa-car-side',\n          '火车': 'fas fa-train',\n          '飞机': 'fas fa-plane'\n        },\n        '用': {\n          '塑料袋': 'fas fa-shopping-bag',\n          '纸巾': 'fas fa-box-tissue',\n          '电子设备': 'fas fa-laptop'\n        }\n      };\n      return iconMap[category] && iconMap[category][subCategory] || 'fas fa-leaf';\n    },\n    selectCategory: function selectCategory(category) {\n      this.selectedCategory = category;\n    },\n    selectSource: function selectSource(source) {\n      this.selectedSource = source;\n      this.selectedSourceType = source.split(' ')[0];\n    },\n    calculateEmission: function calculateEmission() {\n      var emission = 0;\n      switch (this.selectedSourceType) {\n        case 'electricity':\n          emission = this.electricityConsumption * this.emissionFactors[this.selectedCategory][this.selectedSource];\n          break;\n        case 'transportation':\n          emission = this.transportationDistance * this.emissionFactors[this.selectedCategory][this.selectedSource];\n          break;\n        case 'food':\n          emission = this.foodWeight * this.emissionFactors[this.selectedCategory][this.selectedSource];\n          break;\n        case 'water':\n          emission = this.waterConsumption * this.emissionFactors[this.selectedCategory][this.selectedSource];\n          break;\n        case 'waste':\n          // 废弃物类型碳排放计算\n          var wasteFactor = this.emissionFactors[this.selectedCategory][this.wasteType] || 0;\n          emission = this.wasteWeight * wasteFactor;\n          break;\n      }\n      this.calculatedEmission = emission.toFixed(1);\n      this.showResults = true;\n    },\n    resetForm: function resetForm() {\n      this.selectedSource = '';\n      this.selectedSourceType = '';\n      this.electricityConsumption = '';\n      this.transportationDistance = '';\n      this.transportationType = '';\n      this.foodWeight = '';\n      this.foodType = '';\n      this.waterConsumption = '';\n      this.wasteWeight = '';\n      this.wasteType = '';\n      this.calculatedEmission = 0;\n      this.showResults = false;\n    },\n    saveEmission: function saveEmission() {\n      // 实现保存记录的逻辑\n      this.messageType = 'success';\n      this.messageContent = '记录已保存成功！';\n      this.showMessage = true;\n    },\n    formatEmission: function formatEmission(emission) {\n      return emission.toLocaleString();\n    }\n  }\n};","map":{"version":3,"names":["axios","data","activeCategory","emissionFactors","unitMap","selectedItems","totalEmission","treesToPlant","categoryOrder","selectedCategory","selectedSource","selectedSourceType","electricityConsumption","transportationDistance","transportationType","foodWeight","foodType","waterConsumption","wasteWeight","wasteType","calculatedEmission","showResults","showMessage","messageType","messageContent","created","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","response","wrap","_callee$","_context","prev","next","localStorage","getItem","$router","push","abrupt","get","headers","Authorization","concat","sent","factors","units","Object","keys","length","sortedCategories","t0","console","error","stop","computed","_this2","categories","sort","a","b","indexA","indexOf","indexB","filteredEmissions","groupedSelectedItems","_this3","grouped","forEach","category","some","item","filteredSources","isCalculationReady","methods","setActiveCategory","isSelected","subCategory","selectSubcategory","value","factor","calculateTotal","removeItem","index","findIndex","i","splice","clearAllItems","panel","document","querySelector","classList","add","setTimeout","remove","getUnit","getEmissionValue","toFixed","total","_iterator","_createForOfIteratorHelper","_step","s","n","done","err","e","f","getCategoryIcon","mainIconMap","iconMap","selectCategory","selectSource","source","split","calculateEmission","emission","wasteFactor","resetForm","saveEmission","formatEmission","toLocaleString"],"sources":["D:\\EcoPaw\\carbonfootprint\\src\\components\\CarbonCalculator.vue"],"sourcesContent":["<template>\r\n  <div class=\"carbon-calculator\">\r\n    <div class=\"calculator-header\">\r\n      <div class=\"category-container\">\r\n        <h3>排放源类别</h3>\r\n        <div class=\"category-selector\">\r\n          <div v-for=\"(category, index) in categories\" :key=\"index\"\r\n               :class=\"['category-item', { active: selectedCategory === category }]\"\r\n               @click=\"selectCategory(category)\">\r\n            {{ getCategoryLabel(category) }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"calculator-body\">\r\n      <div class=\"sources-container\">\r\n        <h3>排放源</h3>\r\n        <div class=\"sources-list\">\r\n          <div v-for=\"source in filteredSources\" :key=\"source\"\r\n               :class=\"['source-item', { active: selectedSource === source }]\"\r\n               @click=\"selectSource(source)\">\r\n            {{ source }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"calculation-panel\">\r\n        <div v-if=\"selectedSource\" class=\"calculation-form\">\r\n          <h3>{{ selectedSource }} 碳排放计算</h3>\r\n          \r\n          <div class=\"form-group\" v-if=\"selectedSourceType === 'electricity'\">\r\n            <label for=\"electricity-consumption\">电力消耗 (kWh):</label>\r\n            <input\r\n              id=\"electricity-consumption\"\r\n              v-model=\"electricityConsumption\"\r\n              type=\"number\"\r\n              min=\"0\"\r\n              placeholder=\"输入电力消耗量\"\r\n              class=\"form-input\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-group\" v-if=\"selectedSourceType === 'transportation'\">\r\n            <label for=\"transportation-distance\">行驶距离 (km):</label>\r\n            <input\r\n              id=\"transportation-distance\"\r\n              v-model=\"transportationDistance\"\r\n              type=\"number\"\r\n              min=\"0\"\r\n              placeholder=\"输入行驶距离\"\r\n              class=\"form-input\"\r\n            />\r\n            <label for=\"transportation-type\" class=\"mt-3\">交通类型:</label>\r\n            <select\r\n              id=\"transportation-type\"\r\n              v-model=\"transportationType\"\r\n              class=\"form-select\"\r\n            >\r\n              <option value=\"car\">小汽车</option>\r\n              <option value=\"bus\">公交车</option>\r\n              <option value=\"train\">火车</option>\r\n              <option value=\"plane\">飞机</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div class=\"form-group\" v-if=\"selectedSourceType === 'food'\">\r\n            <label for=\"food-weight\">食物重量 (kg):</label>\r\n            <input\r\n              id=\"food-weight\"\r\n              v-model=\"foodWeight\"\r\n              type=\"number\"\r\n              min=\"0\"\r\n              placeholder=\"输入食物重量\"\r\n              class=\"form-input\"\r\n            />\r\n            <label for=\"food-type\" class=\"mt-3\">食物类型:</label>\r\n            <select\r\n              id=\"food-type\"\r\n              v-model=\"foodType\"\r\n              class=\"form-select\"\r\n            >\r\n              <option value=\"beef\">牛肉</option>\r\n              <option value=\"pork\">猪肉</option>\r\n              <option value=\"chicken\">鸡肉</option>\r\n              <option value=\"fish\">鱼</option>\r\n              <option value=\"vegetables\">蔬菜</option>\r\n              <option value=\"fruits\">水果</option>\r\n              <option value=\"grains\">谷物</option>\r\n              <option value=\"dairy\">乳制品</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div class=\"form-group\" v-if=\"selectedSourceType === 'water'\">\r\n            <label for=\"water-consumption\">用水量 (L):</label>\r\n            <input\r\n              id=\"water-consumption\"\r\n              v-model=\"waterConsumption\"\r\n              type=\"number\"\r\n              min=\"0\"\r\n              placeholder=\"输入用水量\"\r\n              class=\"form-input\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-group\" v-if=\"selectedSourceType === 'waste'\">\r\n            <label for=\"waste-weight\">废弃物重量 (kg):</label>\r\n            <input\r\n              id=\"waste-weight\"\r\n              v-model=\"wasteWeight\"\r\n              type=\"number\"\r\n              min=\"0\"\r\n              placeholder=\"输入废弃物重量\"\r\n              class=\"form-input\"\r\n            />\r\n            <label for=\"waste-type\" class=\"mt-3\">废弃物类型:</label>\r\n            <select\r\n              id=\"waste-type\"\r\n              v-model=\"wasteType\"\r\n              class=\"form-select\"\r\n            >\r\n              <option value=\"plastic\">塑料</option>\r\n              <option value=\"paper\">纸张</option>\r\n              <option value=\"glass\">玻璃</option>\r\n              <option value=\"metal\">金属</option>\r\n              <option value=\"organic\">有机物</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div class=\"action-buttons\">\r\n            <button class=\"calculate-btn\" @click=\"calculateEmission\" :disabled=\"!isCalculationReady\">\r\n              <i class=\"fas fa-calculator\"></i> 计算碳排放\r\n            </button>\r\n            <button class=\"reset-btn\" @click=\"resetForm\">\r\n              <i class=\"fas fa-undo\"></i> 重置\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        <div v-else class=\"no-source-selected\">\r\n          <i class=\"fas fa-arrow-left\"></i>\r\n          <p>请选择一个排放源来开始计算</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div v-if=\"showResults\" class=\"results-container\">\r\n      <h3>计算结果</h3>\r\n      <div class=\"result-card\">\r\n        <div class=\"result-item\">\r\n          <span class=\"result-label\">碳排放量:</span>\r\n          <span class=\"result-value\">{{ formatEmission(calculatedEmission) }} kg CO₂</span>\r\n        </div>\r\n        <div class=\"result-item\">\r\n          <span class=\"result-label\">相当于:</span>\r\n          <span class=\"result-value\">{{ formatEmission(calculatedEmission / 21) }} 棵树一年吸收的碳</span>\r\n        </div>\r\n        \r\n        <div class=\"save-emission-container\">\r\n          <button class=\"save-btn\" @click=\"saveEmission\">\r\n            <i class=\"fas fa-save\"></i> 保存此记录\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div v-if=\"showMessage\" :class=\"['message', messageType]\">\r\n      <span>{{ messageContent }}</span>\r\n      <button class=\"close-btn\" @click=\"showMessage = false\">\r\n        <i class=\"fas fa-times\"></i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      activeCategory: '',\r\n      emissionFactors: {},\r\n      unitMap: {},\r\n      selectedItems: [],\r\n      totalEmission: 0,\r\n      treesToPlant: 0,\r\n      categoryOrder: ['衣', '食', '住', '行', '用'], // 定义类别排序\r\n      selectedCategory: '',\r\n      selectedSource: '',\r\n      selectedSourceType: '',\r\n      electricityConsumption: '',\r\n      transportationDistance: '',\r\n      transportationType: '',\r\n      foodWeight: '',\r\n      foodType: '',\r\n      waterConsumption: '',\r\n      wasteWeight: '',\r\n      wasteType: '',\r\n      calculatedEmission: 0,\r\n      showResults: false,\r\n      showMessage: false,\r\n      messageType: '',\r\n      messageContent: ''\r\n    };\r\n  },\r\n  async created() {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        this.$router.push('/');\r\n        return;\r\n      }\r\n      \r\n      // 获取碳排放系数\r\n      const response = await axios.get('http://localhost:5000/api/carbon/factors', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      this.emissionFactors = response.data.factors;\r\n      this.unitMap = response.data.units;\r\n      \r\n      // 设置默认选中第一个分类\r\n      if (Object.keys(this.emissionFactors).length > 0) {\r\n        this.activeCategory = this.sortedCategories[0];\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n    }\r\n  },\r\n  computed: {\r\n    // 按照衣食住行用的顺序排序分类\r\n    sortedCategories() {\r\n      const categories = Object.keys(this.emissionFactors);\r\n      return categories.sort((a, b) => {\r\n        const indexA = this.categoryOrder.indexOf(a);\r\n        const indexB = this.categoryOrder.indexOf(b);\r\n        return indexA - indexB;\r\n      });\r\n    },\r\n    filteredEmissions() {\r\n      return this.emissionFactors[this.activeCategory] || {};\r\n    },\r\n    // 将选中的项目按类别分组\r\n    groupedSelectedItems() {\r\n      const grouped = {};\r\n      \r\n      // 首先确保按照衣食住行用的顺序创建空数组\r\n      this.categoryOrder.forEach(category => {\r\n        if (this.selectedItems.some(item => item.category === category)) {\r\n          grouped[category] = [];\r\n        }\r\n      });\r\n      \r\n      // 然后填充数据，保持选择顺序\r\n      this.selectedItems.forEach(item => {\r\n        if (!grouped[item.category]) {\r\n          grouped[item.category] = [];\r\n        }\r\n        grouped[item.category].push(item);\r\n      });\r\n      \r\n      return grouped;\r\n    },\r\n    categories() {\r\n      return Object.keys(this.emissionFactors);\r\n    },\r\n    filteredSources() {\r\n      return Object.keys(this.emissionFactors[this.selectedCategory] || {});\r\n    },\r\n    isCalculationReady() {\r\n      return this.selectedSource && this.selectedSourceType && this.selectedSourceType !== 'waste';\r\n    }\r\n  },\r\n  methods: {\r\n    setActiveCategory(category) {\r\n      this.activeCategory = category;\r\n    },\r\n    isSelected(category, subCategory) {\r\n      return this.selectedItems.some(item => \r\n        item.category === category && item.subCategory === subCategory\r\n      );\r\n    },\r\n    selectSubcategory(category, subCategory) {\r\n      // 检查是否已经选择了该子类别\r\n      if (this.isSelected(category, subCategory)) {\r\n        return;\r\n      }\r\n      \r\n      // 添加到选择列表\r\n      this.selectedItems.push({\r\n        category,\r\n        subCategory,\r\n        value: 1,\r\n        factor: this.emissionFactors[category][subCategory]\r\n      });\r\n      \r\n      this.calculateTotal();\r\n    },\r\n    removeItem(item) {\r\n      const index = this.selectedItems.findIndex(\r\n        i => i.category === item.category && i.subCategory === item.subCategory\r\n      );\r\n      if (index !== -1) {\r\n        this.selectedItems.splice(index, 1);\r\n        this.calculateTotal();\r\n      }\r\n    },\r\n    clearAllItems() {\r\n      // 添加确认动画\r\n      const panel = document.querySelector('.calculation-panel');\r\n      if (panel) {\r\n        panel.classList.add('shake-effect');\r\n        setTimeout(() => {\r\n          panel.classList.remove('shake-effect');\r\n        }, 500);\r\n      }\r\n      \r\n      this.selectedItems = [];\r\n      this.calculateTotal();\r\n    },\r\n    getUnit(subCategory) {\r\n      return this.unitMap[subCategory] || '单位';\r\n    },\r\n    getEmissionValue(item) {\r\n      const value = (item.factor * item.value).toFixed(1);\r\n      return value;\r\n    },\r\n    calculateTotal() {\r\n      let total = 0;\r\n      for (const item of this.selectedItems) {\r\n        total += item.factor * item.value;\r\n      }\r\n      this.totalEmission = total.toFixed(1);\r\n      this.treesToPlant = (total / 28.8 * 0.3).toFixed(1);\r\n    },\r\n    getCategoryIcon(category, subCategory) {\r\n      const mainIconMap = {\r\n        '衣': 'fas fa-tshirt',\r\n        '食': 'fas fa-utensils',\r\n        '住': 'fas fa-home',\r\n        '行': 'fas fa-car',\r\n        '用': 'fas fa-shopping-basket'\r\n      };\r\n      \r\n      if (!subCategory) {\r\n        return mainIconMap[category] || 'fas fa-leaf';\r\n      }\r\n      \r\n      const iconMap = {\r\n        '衣': {\r\n          '涤纶织物': 'fas fa-tshirt',\r\n          '纯棉T恤': 'fas fa-tshirt',\r\n          '洗衣液': 'fas fa-soap'\r\n        },\r\n        '食': {\r\n          '白酒': 'fas fa-wine-bottle',\r\n          '啤酒': 'fas fa-beer',\r\n          '吸烟': 'fas fa-smoking',\r\n          '羊肉': 'fas fa-drumstick-bite',\r\n          '牛肉': 'fas fa-hamburger',\r\n          '猪肉': 'fas fa-bacon',\r\n          '炸鸡': 'fas fa-drumstick-bite',\r\n          '鸡蛋': 'fas fa-egg',\r\n          '土豆': 'fas fa-seedling',\r\n          '米饭': 'fas fa-seedling',\r\n          '花生': 'fas fa-seedling',\r\n          '酸奶': 'fas fa-wine-glass'\r\n        },\r\n        '住': {\r\n          '水': 'fas fa-water',\r\n          '电': 'fas fa-bolt',\r\n          '天然气': 'fas fa-fire'\r\n        },\r\n        '行': {\r\n          '轮船': 'fas fa-ship',\r\n          '公交车': 'fas fa-bus',\r\n          '私家电车': 'fas fa-car',\r\n          '私家油车': 'fas fa-car-side',\r\n          '火车': 'fas fa-train',\r\n          '飞机': 'fas fa-plane'\r\n        },\r\n        '用': {\r\n          '塑料袋': 'fas fa-shopping-bag',\r\n          '纸巾': 'fas fa-box-tissue',\r\n          '电子设备': 'fas fa-laptop'\r\n        }\r\n      };\r\n      \r\n      return (iconMap[category] && iconMap[category][subCategory]) || 'fas fa-leaf';\r\n    },\r\n    selectCategory(category) {\r\n      this.selectedCategory = category;\r\n    },\r\n    selectSource(source) {\r\n      this.selectedSource = source;\r\n      this.selectedSourceType = source.split(' ')[0];\r\n    },\r\n    calculateEmission() {\r\n      let emission = 0;\r\n      switch (this.selectedSourceType) {\r\n        case 'electricity':\r\n          emission = this.electricityConsumption * this.emissionFactors[this.selectedCategory][this.selectedSource];\r\n          break;\r\n        case 'transportation':\r\n          emission = this.transportationDistance * this.emissionFactors[this.selectedCategory][this.selectedSource];\r\n          break;\r\n        case 'food':\r\n          emission = this.foodWeight * this.emissionFactors[this.selectedCategory][this.selectedSource];\r\n          break;\r\n        case 'water':\r\n          emission = this.waterConsumption * this.emissionFactors[this.selectedCategory][this.selectedSource];\r\n          break;\r\n        case 'waste':\r\n          // 废弃物类型碳排放计算\r\n          const wasteFactor = this.emissionFactors[this.selectedCategory][this.wasteType] || 0;\r\n          emission = this.wasteWeight * wasteFactor;\r\n          break;\r\n      }\r\n      this.calculatedEmission = emission.toFixed(1);\r\n      this.showResults = true;\r\n    },\r\n    resetForm() {\r\n      this.selectedSource = '';\r\n      this.selectedSourceType = '';\r\n      this.electricityConsumption = '';\r\n      this.transportationDistance = '';\r\n      this.transportationType = '';\r\n      this.foodWeight = '';\r\n      this.foodType = '';\r\n      this.waterConsumption = '';\r\n      this.wasteWeight = '';\r\n      this.wasteType = '';\r\n      this.calculatedEmission = 0;\r\n      this.showResults = false;\r\n    },\r\n    saveEmission() {\r\n      // 实现保存记录的逻辑\r\n      this.messageType = 'success';\r\n      this.messageContent = '记录已保存成功！';\r\n      this.showMessage = true;\r\n    },\r\n    formatEmission(emission) {\r\n      return emission.toLocaleString();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.carbon-calculator {\r\n  background-color: #ffffff;\r\n  border-radius: 12px;\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\r\n  padding: 2rem;\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.calculator-header {\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.category-container h3,\r\n.sources-container h3,\r\n.calculation-panel h3,\r\n.results-container h3 {\r\n  font-size: 1.2rem;\r\n  margin-bottom: 1rem;\r\n  color: #2c3e50;\r\n  font-weight: 600;\r\n  border-left: 4px solid #4caf50;\r\n  padding-left: 12px;\r\n}\r\n\r\n.category-selector {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.category-item {\r\n  background-color: #f5f5f5;\r\n  border-radius: 8px;\r\n  padding: 0.8rem 1.5rem;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  font-weight: 500;\r\n  color: #546e7a;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  border: 1px solid #e0e0e0;\r\n}\r\n\r\n.category-item:hover {\r\n  background-color: #e8f5e9;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.category-item.active {\r\n  background-color: #4caf50;\r\n  color: white;\r\n  font-weight: 600;\r\n  box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3);\r\n  border-color: #4caf50;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.calculator-body {\r\n  display: flex;\r\n  gap: 2rem;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.sources-container {\r\n  flex: 1;\r\n  min-width: 250px;\r\n}\r\n\r\n.sources-list {\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.source-item {\r\n  padding: 0.8rem 1rem;\r\n  margin-bottom: 0.5rem;\r\n  background-color: #ffffff;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n  border-left: 3px solid transparent;\r\n}\r\n\r\n.source-item:hover {\r\n  background-color: #f1f8e9;\r\n  transform: translateX(3px);\r\n  border-left-color: #8bc34a;\r\n}\r\n\r\n.source-item.active {\r\n  background-color: #e8f5e9;\r\n  border-left-color: #4caf50;\r\n  font-weight: 600;\r\n  color: #2e7d32;\r\n}\r\n\r\n.calculation-panel {\r\n  flex: 2;\r\n  background-color: #f9f9f9;\r\n  border-radius: 10px;\r\n  padding: 1.5rem;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.calculation-form {\r\n  animation: fadeIn 0.4s ease;\r\n}\r\n\r\n.no-source-selected {\r\n  height: 200px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: #90a4ae;\r\n  gap: 1rem;\r\n}\r\n\r\n.no-source-selected i {\r\n  font-size: 2rem;\r\n  opacity: 0.5;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n  font-weight: 500;\r\n  color: #455a64;\r\n}\r\n\r\n.form-input, .form-select {\r\n  width: 100%;\r\n  padding: 0.8rem 1rem;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 6px;\r\n  font-size: 1rem;\r\n  background-color: white;\r\n  transition: all 0.3s ease;\r\n  color: #37474f;\r\n}\r\n\r\n.form-input:focus, .form-select:focus {\r\n  border-color: #4caf50;\r\n  box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);\r\n  outline: none;\r\n}\r\n\r\n.mt-3 {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.action-buttons {\r\n  display: flex;\r\n  gap: 1rem;\r\n  margin-top: 2rem;\r\n}\r\n\r\n.calculate-btn, .reset-btn, .save-btn {\r\n  padding: 0.8rem 1.5rem;\r\n  border-radius: 8px;\r\n  border: none;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.calculate-btn {\r\n  background: linear-gradient(135deg, #4caf50, #2e7d32);\r\n  color: white;\r\n  flex: 2;\r\n  box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3);\r\n}\r\n\r\n.calculate-btn:hover:not(:disabled) {\r\n  background: linear-gradient(135deg, #43a047, #1b5e20);\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 12px rgba(76, 175, 80, 0.4);\r\n}\r\n\r\n.reset-btn {\r\n  background-color: #f5f5f5;\r\n  color: #546e7a;\r\n  flex: 1;\r\n}\r\n\r\n.reset-btn:hover {\r\n  background-color: #e0e0e0;\r\n  color: #37474f;\r\n}\r\n\r\n.calculate-btn:disabled {\r\n  background: linear-gradient(135deg, #a5d6a7, #81c784);\r\n  cursor: not-allowed;\r\n  transform: none;\r\n  opacity: 0.7;\r\n}\r\n\r\n.results-container {\r\n  margin-top: 2rem;\r\n  background-color: #f1f8e9;\r\n  border-radius: 10px;\r\n  padding: 1.5rem;\r\n  border: 1px solid #c8e6c9;\r\n  animation: slideUp 0.5s ease;\r\n}\r\n\r\n.result-card {\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  padding: 1.5rem;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.result-item {\r\n  margin-bottom: 1rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding-bottom: 0.8rem;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n\r\n.result-item:last-of-type {\r\n  border-bottom: none;\r\n}\r\n\r\n.result-label {\r\n  font-weight: 500;\r\n  color: #546e7a;\r\n}\r\n\r\n.result-value {\r\n  font-weight: 600;\r\n  color: #2e7d32;\r\n}\r\n\r\n.save-emission-container {\r\n  margin-top: 1.5rem;\r\n  text-align: center;\r\n}\r\n\r\n.save-btn {\r\n  background: linear-gradient(135deg, #26a69a, #00897b);\r\n  color: white;\r\n  padding: 0.8rem 2rem;\r\n  box-shadow: 0 4px 8px rgba(38, 166, 154, 0.3);\r\n}\r\n\r\n.save-btn:hover {\r\n  background: linear-gradient(135deg, #00897b, #00695c);\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 12px rgba(38, 166, 154, 0.4);\r\n}\r\n\r\n.message {\r\n  position: fixed;\r\n  bottom: 2rem;\r\n  right: 2rem;\r\n  padding: 1rem 2rem;\r\n  border-radius: 8px;\r\n  color: white;\r\n  animation: slideInRight 0.5s ease;\r\n  z-index: 1000;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.8rem;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.success {\r\n  background-color: #43a047;\r\n}\r\n\r\n.error {\r\n  background-color: #e53935;\r\n}\r\n\r\n.close-btn {\r\n  background: transparent;\r\n  border: none;\r\n  color: white;\r\n  cursor: pointer;\r\n  font-size: 1rem;\r\n  opacity: 0.8;\r\n  transition: opacity 0.2s ease;\r\n  padding: 0.2rem;\r\n}\r\n\r\n.close-btn:hover {\r\n  opacity: 1;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from { opacity: 0; }\r\n  to { opacity: 1; }\r\n}\r\n\r\n@keyframes slideUp {\r\n  from { \r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n  to { \r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n@keyframes slideInRight {\r\n  from {\r\n    transform: translateX(100%);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateX(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .carbon-calculator {\r\n    padding: 1.5rem;\r\n  }\r\n  \r\n  .calculator-body {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .category-selector {\r\n    justify-content: center;\r\n  }\r\n  \r\n  .category-item {\r\n    padding: 0.6rem 1rem;\r\n    font-size: 0.9rem;\r\n  }\r\n  \r\n  .action-buttons {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .calculate-btn, .reset-btn {\r\n    width: 100%;\r\n  }\r\n  \r\n  .result-item {\r\n    flex-direction: column;\r\n    gap: 0.5rem;\r\n  }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}